# 清除豆泥实体
kill @e[tag=tided_npc_castorvow]

# 豆泥盔甲架本体（初次对话，后续移除，为隐形盔甲架）
summon minecraft:armor_stand 932 85 2034 {Tags:[tided_npc_castorvow,tided_npc_castorvow_armor,tided_npc_castorvow_once,tided_npc],Invisible:true,DisabledSlots:16191,NoGravity:true}

# 豆泥盔甲架本体
summon minecraft:armor_stand 932 85 2034 {Tags:[tided_npc_castorvow,tided_npc_castorvow_armor,tided_npc],ArmorItems:[{id:"minecraft:leather_boots"},{id:"minecraft:leather_leggings"},{id:"minecraft:leather_chestplate"},{id:"minecraft:player_head",components:{profile:CastorVow}}],Invisible:true,DisabledSlots:16191,CustomName:'{"translate":"game.npc.name.castorvow"}',CustomNameVisible:false}

# 豆泥隐形交易村民 - 已完工
# 村民格式：
# Tag:["tided_npc_castorvow","tided_npc_castorvow_shop"],NoAI:true,Silent:true,Age:10000000,CanPickUpLoot:false,Invulnerable:true,Invulnerable:true,VillagerData:{level:5,profession:armorer,type:plains},active_effects:[{id:"minecraft:invisibility",amplifier:1,duration:-1,show_particles:false}]
summon minecraft:villager 932 85 2034 {Tags:["tided_npc_castorvow","tided_npc_castorvow_shop"],NoAI:true,Silent:true,Age:10000000,CanPickUpLoot:false,Invulnerable:true,VillagerData:{level:5,profession:"minecraft:armorer",type:"minecraft:plains"},CustomName:'{"translate":"game.npc.name.castorvow"}',active_effects:[{id:"minecraft:invisibility",amplifier:1b,duration:-1,show_particles:0b}],Offers:{Recipes:[{buy:{id:"minecraft:iron_ingot",count:30,components:{"minecraft:custom_name":'{"translate":"game.item.resource.iron_ingot"}',"minecraft:lore":['{"translate":"game.item.resource.iron_ingot_lore1"}']}},sell:{id:"minecraft:diamond",count:1,components:{"minecraft:custom_name":'{"translate":"game.item.resource.diamond"}',"minecraft:lore":['{"translate":"game.item.resource.diamond_lore1"}'],"minecraft:rarity":"rare"}},maxUses:9999999,rewardExp:0b,demand:0,specialPrice:0,priceMultiplier:0.0f},{buy:{id:"minecraft:diamond",count:5,components:{"minecraft:custom_name":'{"translate":"game.item.resource.diamond"}'}},buyB:{id:"minecraft:shield",count:1,components:{"minecraft:unbreakable":{},"minecraft:custom_name":'{"translate":"game.item.weapon.iron_shield"}',"minecraft:lore":['{"translate":"game.item.weapon.iron_shield_lore1"}'],"minecraft:attribute_modifiers":{"modifiers":[{"type":"minecraft:generic.armor","id":"armor","amount":2.0,"operation":"add_value","slot":"offhand"}]}}},sell:{id:"minecraft:shield",count:1,components:{"minecraft:unbreakable":{},"minecraft:custom_name":'{"translate":"game.item.weapon.diamond_shield"}',"minecraft:lore":['{"translate":"game.item.weapon.diamond_shield_lore1"}'],"minecraft:attribute_modifiers":{"modifiers":[{"type":"minecraft:generic.armor","id":"armor","amount":4.0,"operation":"add_value","slot":"offhand"},{"type":"minecraft:generic.movement_speed","id":"speed","amount":0.1,"operation":"add_multiplied_base","slot":"offhand"}]}}},maxUses:9999999,rewardExp:0b,demand:0,specialPrice:0,priceMultiplier:0.0f},{buy:{id:"minecraft:diamond",count:3,components:{"minecraft:custom_name":'{"translate":"game.item.resource.diamond"}'}},buyB:{id:"minecraft:iron_sword",count:1,components:{"minecraft:unbreakable":{},"minecraft:custom_name":'{"translate":"game.item.weapon.iron_knife"}',"minecraft:lore":['{"translate":"game.item.weapon.iron_knife_lore1"}'],"minecraft:attribute_modifiers":{"modifiers":[{"type":"minecraft:generic.attack_speed","id":"attack_speed","amount":2.0,"operation":"add_value","slot":"mainhand"},{"type":"minecraft:generic.attack_damage","id":"attack_damage","amount":5.0,"operation":"add_value","slot":"mainhand"}]},"minecraft:enchantments":{"levels":{"minecraft:looting":2,"minecraft:sharpness":1}}}},sell:{id:"minecraft:diamond_sword",count:1,components:{"minecraft:unbreakable":{},"minecraft:custom_name":'{"translate":"game.item.weapon.diamond_knife"}',"minecraft:lore":['{"translate":"game.item.weapon.diamond_knife_lore1"}'],"minecraft:attribute_modifiers":{"modifiers":[{"type":"minecraft:generic.attack_speed","id":"attack_speed","amount":2.0,"operation":"add_value","slot":"mainhand"},{"type":"minecraft:generic.attack_damage","id":"attack_damage","amount":6.0,"operation":"add_value","slot":"mainhand"}]},"minecraft:enchantments":{"levels":{"minecraft:looting":3,"minecraft:sharpness":2}}}},maxUses:9999999,rewardExp:0b,demand:0,specialPrice:0,priceMultiplier:0.0f},{buy:{id:"minecraft:diamond",count:3,components:{"minecraft:custom_name":'{"translate":"game.item.resource.diamond"}'}},buyB:{id:"minecraft:iron_sword",count:1,components:{"minecraft:unbreakable":{},"minecraft:custom_name":'{"translate":"game.item.weapon.iron_sword"}',"minecraft:lore":['{"translate":"game.item.weapon.iron_sword_lore1"}'],"minecraft:enchantments":{"levels":{"minecraft:sharpness":2}}}},sell:{id:"minecraft:diamond_sword",count:1,components:{"minecraft:unbreakable":{},"minecraft:custom_name":'{"translate":"game.item.weapon.diamond_sword"}',"minecraft:lore":['{"translate":"game.item.weapon.diamond_sword_lore1"}'],"minecraft:enchantments":{"levels":{"minecraft:sharpness":3}},"minecraft:attribute_modifiers":{"modifiers":[{"type":"minecraft:generic.movement_speed","id":"move_speed","amount":0.1,"operation":"add_multiplied_base","slot":"mainhand"},{"type":"minecraft:generic.attack_speed","id":"attack_speed","amount":1.6,"operation":"add_value","slot":"mainhand"},{"type":"minecraft:generic.attack_damage","id":"attack_damage","amount":7.0,"operation":"add_value","slot":"mainhand"}]}}},maxUses:9999999,rewardExp:0b,demand:0,specialPrice:0,priceMultiplier:0.0f},{buy:{id:"minecraft:diamond",count:3,components:{"minecraft:custom_name":'{"translate":"game.item.resource.diamond"}'}},buyB:{id:"minecraft:bow",count:1,components:{unbreakable:{},custom_name:'{"translate":"game.item.weapon.iron_bow"}',lore:['{"translate":"game.item.weapon.iron_bow_lore1"}'],enchantments:{power:2,knockback:1},attribute_modifiers:[{amount:0.1,id:"move_speed",operation:"add_multiplied_base",type:"generic.movement_speed",slot:"mainhand"}]}},sell:{id:"minecraft:bow",count:1,components:{"minecraft:unbreakable":{},"minecraft:custom_name":'{"translate":"game.item.weapon.diamond_bow"}',"minecraft:lore":['{"translate":"game.item.weapon.diamond_bow_lore1"}'],"minecraft:enchantments":{"levels":{"minecraft:power":4,"minecraft:punch":2}},"minecraft:attribute_modifiers":{"modifiers":[{"type":"minecraft:generic.movement_speed","id":"move_speed","amount":0.2,"operation":"add_multiplied_base","slot":"mainhand"}]}}},maxUses:9999999,rewardExp:0b,demand:0,specialPrice:0,priceMultiplier:0.0f},{buyB:{id:"minecraft:iron_ingot",count:1,components:{"minecraft:custom_name":'{"translate":"game.item.resource.iron_ingot"}',"minecraft:lore":['{"translate":"game.item.resource.iron_ingot_lore1"}']}},sell:{id:"minecraft:arrow",count:64,components:{"minecraft:custom_name":'{"translate":"game.item.weapon.arrow"}',"minecraft:lore":['{"translate":"game.item.weapon.arrow_lore1"}']}},maxUses:9999999,rewardExp:0b,demand:0,specialPrice:0,priceMultiplier:0.0f},{buy:{id:"minecraft:diamond",count:1,components:{"minecraft:custom_name":'{"translate":"game.item.resource.diamond"}'}},buyB:{id:"minecraft:iron_helmet",count:1,components:{"minecraft:unbreakable":{},"minecraft:custom_name":'{"translate":"game.item.armor.iron_helmet"}',"minecraft:lore":['{"translate":"game.item.armor.iron_helmet_lore1"}'],"minecraft:enchantments":{"levels":{"minecraft:protection":2}}}},sell:{id:"minecraft:diamond_helmet",count:1,components:{"minecraft:unbreakable":{},"minecraft:custom_name":'{"translate":"game.item.armor.diamond_helmet"}',"minecraft:lore":['{"translate":"game.item.armor.diamond_helmet_lore1"}'],"minecraft:enchantments":{"levels":{"minecraft:protection":3}}}},maxUses:9999999,rewardExp:0b,demand:0,specialPrice:0,priceMultiplier:0.0f},{buy:{id:"minecraft:diamond",count:3,components:{"minecraft:custom_name":'{"translate":"game.item.resource.diamond"}'}},buyB:{id:"minecraft:iron_chestplate",count:1,components:{"minecraft:unbreakable":{},"minecraft:custom_name":'{"translate":"game.item.armor.iron_chestplate"}',"minecraft:lore":['{"translate":"game.item.armor.iron_chestplate_lore1"}'],"minecraft:enchantments":{"levels":{"minecraft:protection":2}}}},sell:{id:"minecraft:diamond_chestplate",count:1,components:{"minecraft:unbreakable":{},"minecraft:custom_name":'{"translate":"game.item.armor.diamond_chestplate"}',"minecraft:lore":['{"translate":"game.item.armor.diamond_chestplate_lore1"}'],"minecraft:enchantments":{"levels":{"minecraft:protection":3}}}},maxUses:9999999,rewardExp:0b,demand:0,specialPrice:0,priceMultiplier:0.0f},{buy:{id:"minecraft:diamond",count:2,components:{"minecraft:custom_name":'{"translate":"game.item.resource.diamond"}'}},buyB:{id:"minecraft:iron_leggings",count:1,components:{"minecraft:unbreakable":{},"minecraft:custom_name":'{"translate":"game.item.armor.iron_leggings"}',"minecraft:lore":['{"translate":"game.item.armor.iron_leggings_lore1"}'],"minecraft:enchantments":{"levels":{"minecraft:protection":2}}}},sell:{id:"minecraft:diamond_leggings",count:1,components:{"minecraft:unbreakable":{},"minecraft:custom_name":'{"translate":"game.item.armor.diamond_leggings"}',"minecraft:lore":['{"translate":"game.item.armor.diamond_leggings_lore1"}'],"minecraft:enchantments":{"levels":{"minecraft:protection":3}}}},maxUses:9999999,rewardExp:0b,demand:0,specialPrice:0,priceMultiplier:0.0f},{buy:{id:"minecraft:diamond",count:1,components:{"minecraft:custom_name":'{"translate":"game.item.resource.diamond"}'}},buyB:{id:"minecraft:iron_boots",count:1,components:{"minecraft:unbreakable":{},"minecraft:custom_name":'{"translate":"game.item.armor.iron_boots"}',"minecraft:lore":['{"translate":"game.item.armor.iron_boots_lore1"}'],"minecraft:enchantments":{"levels":{"minecraft:protection":2}}}},sell:{id:"minecraft:diamond_boots",count:1,components:{"minecraft:unbreakable":{},"minecraft:custom_name":'{"translate":"game.item.armor.diamond_boots"}',"minecraft:lore":['{"translate":"game.item.armor.diamond_boots_lore1"}'],"minecraft:enchantments":{"levels":{"minecraft:protection":3}}}},maxUses:9999999,rewardExp:0b,demand:0,specialPrice:0,priceMultiplier:0.0f}]}}
# 触发函数
# function tide_redemption:npc/castorvow/init_npc