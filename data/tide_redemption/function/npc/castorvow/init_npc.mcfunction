# 清除豆泥实体
kill @e[tag=tided_npc_castorvow]

# 豆泥盔甲架本体（初次对话，后续移除，为隐形盔甲架）
summon minecraft:armor_stand 932 85 2034 {Tags:[tided_npc_castorvow,tided_npc_castorvow_armor,tided_npc_castorvow_once,tided_npc],Invisible:true,DisabledSlots:16191,NoGravity:true}

# 豆泥盔甲架本体
summon minecraft:armor_stand 932 85 2034 {Tags:[tided_npc_castorvow,tided_npc_castorvow_armor,tided_npc],ArmorItems:[{id:"minecraft:leather_boots"},{id:"minecraft:leather_leggings"},{id:"minecraft:leather_chestplate"},{id:"minecraft:player_head",components:{profile:CastorVow}}],Invisible:true,DisabledSlots:16191,CustomName:'{"translate":"game.npc.name.castorvow"}',CustomNameVisible:false}

# 豆泥隐形交易村民 - 已完工
# 村民格式：
# Tag:["tided_npc_castorvow","tided_npc_castorvow_shop"],NoAI:true,Silent:true,Age:10000000,CanPickUpLoot:false,Invulnerable:true,Invulnerable:true,VillagerData:{level:5,profession:armorer,type:plains},active_effects:[{id:"minecraft:invisibility",amplifier:1,duration:-1,show_particles:false}]
summon minecraft:villager 932 85 2034 {Tags:["tided_npc_castorvow","tided_npc_castorvow_shop"],NoAI:true,Silent:true,Age:10000000,CanPickUpLoot:false,Invulnerable:true,VillagerData:{level:5,profession:armorer,type:plains},CustomName:'{"translate":"game.npc.name.castorvow"}',active_effects:[{id:"minecraft:invisibility",amplifier:1,duration:-1,show_particles:false}],Offers:{Recipes:[{buy:{id:"minecraft:iron_ingot",count:30,components:{custom_name:'{"translate":"game.item.resource.iron_ingot"}',lore:['{"translate":"game.item.resource.iron_ingot_lore1"}']}},sell:{id:"minecraft:diamond",count:1,components:{custom_name:'{"translate":"game.item.resource.diamond"}',lore:['{"translate":"game.item.resource.diamond_lore1"}'],rarity:"rare"}},maxUses:9999999},{buy:{id:"minecraft:diamond",count:5,components:{custom_name:'{"translate":"game.item.resource.diamond"}',lore:['{"translate":"game.item.resource.diamond_lore1"}'],rarity:"rare"}},sell:{id:"minecraft:shield",count:1,components:{unbreakable:{},custom_name:'{"translate":"game.item.weapon.diamond_shield"}',lore:['{"translate":"game.item.weapon.diamond_shield_lore1"}'],attribute_modifiers:[{id:"armor",amount:4,operation:"add_value",type:"generic.armor",slot:"offhand"},{id:"speed",amount:0.1,operation:"add_multiplied_base",type:"generic.movement_speed",slot:"offhand"}]}},maxUses:9999999},{buy:{id:"minecraft:diamond",count:3,components:{custom_name:'{"translate":"game.item.resource.diamond"}',lore:['{"translate":"game.item.resource.diamond_lore1"}'],rarity:"rare"}},sell:{id:"minecraft:diamond_sword",count:1,components:{unbreakable:{},custom_name:'{"translate":"game.item.weapon.diamond_knife"}',lore:['{"translate":"game.item.weapon.diamond_knife_lore1"}'],attribute_modifiers:[{amount:2,id:"attack_speed",operation:"add_value",type:"generic.attack_speed",slot:"mainhand"},{amount:6,id:"attack_damage",operation:"add_value",type:"generic.attack_damage",slot:"mainhand"}],enchantments:{looting:3,sharpness:2}}},maxUses:9999999},{buy:{id:"minecraft:diamond",count:3,components:{custom_name:'{"translate":"game.item.resource.diamond"}',lore:['{"translate":"game.item.resource.diamond_lore1"}'],rarity:"rare"}},sell:{id:"minecraft:diamond_sword",count:1,components:{unbreakable:{},custom_name:'{"translate":"game.item.weapon.diamond_sword"}',lore:['{"translate":"game.item.weapon.diamond_sword_lore1"}'],enchantments:{sharpness:3}}},maxUses:9999999},{buy:{id:"minecraft:diamond",count:3,components:{custom_name:'{"translate":"game.item.resource.diamond"}',lore:['{"translate":"game.item.resource.diamond_lore1"}'],rarity:"rare"}},sell:{id:"minecraft:bow",count:1,components:{unbreakable:{},custom_name:'{"translate":"game.item.weapon.diamond_bow"}',lore:['{"translate":"game.item.weapon.diamond_bow_lore1"}'],enchantments:{power:4,punch:2},attribute_modifiers:[{amount:0.2,id:"move_speed",operation:"add_multiplied_base",type:"generic.movement_speed",slot:"mainhand"}]}},maxUses:9999999},{buy:{id:"minecraft:iron_ingot",count:1,components:{custom_name:'{"translate":"game.item.resource.iron_ingot"}',lore:['{"translate":"game.item.resource.iron_ingot_lore1"}']}},sell:{id:"minecraft:arrow",count:64,components:{custom_name:'{"translate":"game.item.weapon.arrow"}',lore:['{"translate":"game.item.weapon.arrow_lore1"}']}},maxUses:9999999},{buy:{id:"minecraft:diamond",count:1,components:{custom_name:'{"translate":"game.item.resource.diamond"}',lore:['{"translate":"game.item.resource.diamond_lore1"}'],rarity:"rare"}},sell:{id:"minecraft:diamond_helmet",count:1,components:{unbreakable:{},custom_name:'{"translate":"game.item.armor.diamond_helmet"}',lore:['{"translate":"game.item.armor.diamond_helmet_lore1"}'],enchantments:{protection:3}}},maxUses:9999999},{buy:{id:"minecraft:diamond",count:3,components:{custom_name:'{"translate":"game.item.resource.diamond"}',lore:['{"translate":"game.item.resource.diamond_lore1"}'],rarity:"rare"}},sell:{id:"minecraft:diamond_chestplate",count:1,components:{unbreakable:{},custom_name:'{"translate":"game.item.armor.diamond_chestplate"}',lore:['{"translate":"game.item.armor.diamond_chestplate_lore1"}'],enchantments:{protection:3}}},maxUses:9999999},{buy:{id:"minecraft:diamond",count:2,components:{custom_name:'{"translate":"game.item.resource.diamond"}',lore:['{"translate":"game.item.resource.diamond_lore1"}'],rarity:"rare"}},sell:{id:"minecraft:diamond_leggings",count:1,components:{unbreakable:{},custom_name:'{"translate":"game.item.armor.diamond_leggings"}',lore:['{"translate":"game.item.armor.diamond_leggings_lore1"}'],enchantments:{protection:3}}},maxUses:9999999},{buy:{id:"minecraft:diamond",count:1,components:{custom_name:'{"translate":"game.item.resource.diamond"}',lore:['{"translate":"game.item.resource.diamond_lore1"}'],rarity:"rare"}},sell:{id:"minecraft:diamond_boots",count:1,components:{unbreakable:{},custom_name:'{"translate":"game.item.armor.diamond_boots"}',lore:['{"translate":"game.item.armor.diamond_boots_lore1"}'],enchantments:{protection:3}}},maxUses:9999999}]}}

# 触发函数
# function tide_redemption:npc/castorvow/init_npc